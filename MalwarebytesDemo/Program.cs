using System;
using System.Threading;
using System.Windows.Forms;

namespace MalwarebytesDemo
{
    static class Program
    {
        static private string _mutexName = "6e1fe406-2bff-4dbb-af75-306d979714e8";

        [STAThread]
        static void Main()
        {
            // Use a mutex to ensure we never run more than one instance.
            var mutex = new Mutex(true, _mutexName, out bool result);
            if (!result)
            {
                MessageBox.Show("Another instance is already running.", Application.ProductName);
                return;
            }

            // Mutex shouldn't be released until the application shuts down.
            GC.KeepAlive(mutex);

            Application.EnableVisualStyles();
            Application.SetCompatibleTextRenderingDefault(false);
            Application.Run(new MainForm());
        }
    }
}
